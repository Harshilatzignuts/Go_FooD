{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: [],\n  reducers: {\n    add(state, action) {\n      localStorage.setItem(\"cartItems\", JSON.stringify([...state, action.payload]));\n      return [...state, action.payload];\n    },\n    remove(state, action) {\n      localStorage.setItem(\"cartItems\", JSON.stringify(state.filter(item => item.id !== action.payload.id)));\n      return state.filter(item => item.id !== action.payload.id);\n    },\n    update(state, action) {\n      const updatedState = state.map(food => {\n        if (food.id === action.payload.id) {\n          return {\n            ...food,\n            qty: action.payload.qty,\n            // Use the updated quantity directly\n            price: action.payload.price + food.price\n          };\n        }\n        return food;\n      });\n      return updatedState;\n    },\n    drop(state, action) {\n      // Clear cartItems in localStorage\n      localStorage.setItem(\"cartItems\", []);\n\n      // Return an empty array as the new state\n      return [];\n    }\n  }\n});\nexport const {\n  add,\n  remove,\n  update,\n  drop\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","reducers","add","state","action","localStorage","setItem","JSON","stringify","payload","remove","filter","item","id","update","updatedState","map","food","qty","price","drop","actions","reducer"],"sources":["/home/zt62/Desktop/Harshil_Dave/MERN_PRACTICE_projects/GoFood/food-delevery-app/src/store/CartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst cartSlice = createSlice({\n  name: \"cart\",\n\n  initialState: [],\n\n  reducers: {\n    add(state, action) {\n      localStorage.setItem(\n        \"cartItems\",\n        JSON.stringify([...state, action.payload])\n      );\n      return [...state, action.payload];\n    },\n\n    remove(state, action) {\n      localStorage.setItem(\n        \"cartItems\",\n        JSON.stringify(state.filter((item) => item.id !== action.payload.id))\n      );\n\n      return state.filter((item) => item.id !== action.payload.id);\n    },\n\n    update(state, action) {\n      const updatedState = state.map((food) => {\n        if (food.id === action.payload.id) {\n          return {\n            ...food,\n            qty: action.payload.qty, // Use the updated quantity directly\n            price: action.payload.price + food.price,\n          };\n        }\n        return food;\n      });\n\n      return updatedState;\n    },\n\n    drop(state, action) {\n      // Clear cartItems in localStorage\n      localStorage.setItem(\"cartItems\", []);\n\n      // Return an empty array as the new state\n      return [];\n    },\n  },\n});\n\nexport const { add, remove, update, drop } = cartSlice.actions;\n\nexport default cartSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,SAAS,GAAGD,WAAW,CAAC;EAC5BE,IAAI,EAAE,MAAM;EAEZC,YAAY,EAAE,EAAE;EAEhBC,QAAQ,EAAE;IACRC,GAAGA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACjBC,YAAY,CAACC,OAAO,CAClB,WAAW,EACXC,IAAI,CAACC,SAAS,CAAC,CAAC,GAAGL,KAAK,EAAEC,MAAM,CAACK,OAAO,CAAC,CAC3C,CAAC;MACD,OAAO,CAAC,GAAGN,KAAK,EAAEC,MAAM,CAACK,OAAO,CAAC;IACnC,CAAC;IAEDC,MAAMA,CAACP,KAAK,EAAEC,MAAM,EAAE;MACpBC,YAAY,CAACC,OAAO,CAClB,WAAW,EACXC,IAAI,CAACC,SAAS,CAACL,KAAK,CAACQ,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACK,OAAO,CAACI,EAAE,CAAC,CACtE,CAAC;MAED,OAAOV,KAAK,CAACQ,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACK,OAAO,CAACI,EAAE,CAAC;IAC9D,CAAC;IAEDC,MAAMA,CAACX,KAAK,EAAEC,MAAM,EAAE;MACpB,MAAMW,YAAY,GAAGZ,KAAK,CAACa,GAAG,CAAEC,IAAI,IAAK;QACvC,IAAIA,IAAI,CAACJ,EAAE,KAAKT,MAAM,CAACK,OAAO,CAACI,EAAE,EAAE;UACjC,OAAO;YACL,GAAGI,IAAI;YACPC,GAAG,EAAEd,MAAM,CAACK,OAAO,CAACS,GAAG;YAAE;YACzBC,KAAK,EAAEf,MAAM,CAACK,OAAO,CAACU,KAAK,GAAGF,IAAI,CAACE;UACrC,CAAC;QACH;QACA,OAAOF,IAAI;MACb,CAAC,CAAC;MAEF,OAAOF,YAAY;IACrB,CAAC;IAEDK,IAAIA,CAACjB,KAAK,EAAEC,MAAM,EAAE;MAClB;MACAC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;;MAErC;MACA,OAAO,EAAE;IACX;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEJ,GAAG;EAAEQ,MAAM;EAAEI,MAAM;EAAEM;AAAK,CAAC,GAAGtB,SAAS,CAACuB,OAAO;AAE9D,eAAevB,SAAS,CAACwB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}